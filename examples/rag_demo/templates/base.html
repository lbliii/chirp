{% extends "chirp/layouts/boost.html" %}
{% block title %}{{ title ?? "Docs" }}{% end %}
{% block head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/static/chirpui.css">
<link rel="stylesheet" href="/static/rag/rag.css">
{% end %}
{% block body_after %}
<script>
(function(){
  function applyTheme(){
    var t=localStorage.getItem('theme');
    if(t) document.documentElement.dataset.theme=t;
  }
  function updateButtons(){
    var dark=document.documentElement.dataset.theme==='dark'||
      (!document.documentElement.dataset.theme&&window.matchMedia('(prefers-color-scheme: dark)').matches);
    document.querySelectorAll('.theme-toggle').forEach(function(b){ b.textContent=dark?'☀':'☽'; });
  }
  function toggleTheme(){
    var html=document.documentElement;
    var next=html.dataset.theme==='dark'?'light':'dark';
    html.dataset.theme=next;
    localStorage.setItem('theme',next);
    updateButtons();
  }
  document.addEventListener('click',function(e){
    if(e.target.closest('.theme-toggle')){ e.preventDefault(); toggleTheme(); }
  });
  document.addEventListener('DOMContentLoaded',function(){ applyTheme(); updateButtons(); });
  document.addEventListener('htmx:afterSettle',function(){ updateButtons(); });
  if(document.readyState!=='loading'){ applyTheme(); updateButtons(); }
})();
</script>
{% end %}
